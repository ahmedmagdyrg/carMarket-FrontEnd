<div class="container">
  <!-- ================= User Info ================= -->
  <div class="card user-card" *ngIf="user">
    <div class="user-header">
      <!-- Profile Image -->
      <img [src]="getProfileImage()" alt="Profile" class="avatar" />

      <div>
        <h2>{{ user.name }}</h2>
        <p class="email">{{ user.email }}</p>

        <!-- Upload new profile picture -->
        <label class="btn upload-btn">
          Change Photo
          <input type="file" hidden (change)="onFileSelected($event)" />
        </label>
      </div>
    </div>
  </div>

  <!-- ================= User Cars ================= -->
  <div class="card cars-card" *ngIf="cars.length > 0">
    <h3 class="section-title">My Cars</h3>
    <div class="cars-grid">
      <div class="car-card" *ngFor="let car of cars; trackBy: trackByCar">
        <img [src]="getCarImage(car)" alt="{{ car.make }} {{ car.model }}" />

        <div class="car-info">
          <h4>{{ car.year }} {{ car.make }} {{ car.model }}</h4>
          <p class="price">{{ car.price | currency:'EGP' }}</p>
          <a [routerLink]
="['/cars', car._id]" class="btn btn-view">View</a>
        </div>
      </div>
    </div>
  </div>

  <!-- ================= Empty State if no cars ================= -->
  <div class="card" *ngIf="cars.length === 0">
    <p>No cars uploaded yet.</p>
  </div>
</div>
